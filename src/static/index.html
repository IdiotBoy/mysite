<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>mysite</title>
    <script src="static/js/react.js"></script>
    <script src="static/js/react-dom.js"></script>
    <script src="static/js/browser.js"></script>
    <script src="static/js/jquery-1.10.2.js"></script>
    <script src="static/js/jquery-ui-1.11.4.js"></script>
    <link rel="stylesheet" href="static/css/jquery-ui-1.11.4.css">
  </head>
  <body>
    <!--
    <script type="text/babel" src="javascripts/segment-group.js"></script>
    -->
    <p>选择你的生日: <input type="text" id="datepicker"></p>
    <p>这是你活着的第 <label id="livingDay"></label> 天</p>
    <script>
      calculateDaysToNow = function() {
        dateText = $("#datepicker").val()
        console.log($('#datepicker').val());
        [year, month, day] = dateText.split('-');
        oldDate = new Date(year, month - 1, day);
        currentDate = new Date();
        d = (currentDate - oldDate) / 86400 / 1000;
        $('#livingDay').html(parseInt(d) + 1);
      }

      $("#datepicker").datepicker({
        altField: "#datepicker",
        altFormat: "yy-mm-dd",
        changeMonth: true,
        changeYear: true,
        yearRange: "1980:2020",
        onSelect: calculateDaysToNow
      })
  </script>
  </body>
</html>